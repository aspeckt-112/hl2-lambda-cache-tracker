document.getElementById("uploadForm").addEventListener("submit",async function(e){e.preventDefault();let t=new FormData(this),a=await fetch(this.action,{method:"POST",body:t}),c=await a.json();c.success?await fetchCaches(c.gameState):alert(c.message)});async function fetchCaches(e){let t=await fetch("/Index?handler=ObtainedCaches&gameState="+e,{method:"GET"}),a=await t;a.ok?document.getElementById("caches").outerHTML=await a.text():alert("Failed to fetch caches")}